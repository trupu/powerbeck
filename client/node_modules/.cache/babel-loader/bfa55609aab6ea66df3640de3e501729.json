{"remainingRequest":"/home/trupu/Pulpit/projekt/client/node_modules/babel-loader/lib/index.js!/home/trupu/Pulpit/projekt/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/trupu/Pulpit/projekt/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/trupu/Pulpit/projekt/client/src/components/sites/admin/AdminPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/trupu/Pulpit/projekt/client/src/components/sites/admin/AdminPanel.vue","mtime":1564333737685},{"path":"/home/trupu/Pulpit/projekt/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/trupu/Pulpit/projekt/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/trupu/Pulpit/projekt/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/trupu/Pulpit/projekt/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/trupu/Pulpit/projekt/client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Buttons from \"../../pieces/Buttons.vue\";\nimport Offers from \"../../../mixins/offers\";\nexport default {\n  name: 'AdminPanel',\n  components: {\n    Buttons: Buttons\n  },\n  data: function data() {\n    return {\n      adminWrapper: true,\n      coaches: false,\n      offers: false,\n      gallery: false,\n      Offers: Offers,\n      offerCreated: false,\n      formShowed: {\n        offer: false,\n        coaches: false,\n        gallery: false\n      }\n    };\n  },\n  methods: {\n    logout: function logout() {\n      // eslint-disable-next-line\n      console.log('Wylogowano!');\n    },\n    checkIsLogged: function checkIsLogged() {// checking if admin is logged in\n    },\n    createContent: function createContent(data, parent) {\n      var table = document.createElement('table');\n      var trth = document.createElement('tr'); // eslint-disable-next-line\n\n      for (var key in data[0]) {\n        // eslint-disable-next-line\n        if (key !== '_id') {\n          var th = document.createElement('th');\n          th.innerHTML = key;\n          trth.appendChild(th);\n        }\n      }\n\n      table.appendChild(trth); // eslint-disable-next-line\n\n      for (var _key in data) {\n        var tr = document.createElement('tr'); // eslint-disable-next-line\n\n        for (var i in data[_key]) {\n          // eslint-disable-next-line\n          if (data[_key][i] !== data[_key]._id) {\n            var _td = document.createElement('td');\n\n            _td.innerHTML = data[_key][i];\n            tr.appendChild(_td);\n          }\n        }\n\n        var td = document.createElement('td');\n        var button = document.createElement('button'); // eslint-disable-next-line\n\n        button.setAttribute('data-id', data[_key]._id);\n        button.classList.add('button-small');\n        button.innerHTML = 'Usuń';\n        td.appendChild(button);\n        tr.appendChild(td);\n        table.appendChild(tr);\n      }\n\n      parent.appendChild(table);\n    },\n    getOffer: function () {\n      var _getOffer = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.offerCreated) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.next = 4;\n                return this.Offers.Offer.getOffer();\n\n              case 4:\n                data = _context.sent;\n                this.createContent(data, this.$refs.offerElement);\n                this.offerCreated = true;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getOffer() {\n        return _getOffer.apply(this, arguments);\n      }\n\n      return getOffer;\n    }(),\n    checkClicked: function checkClicked() {\n      var ev = event.target;\n\n      if (!event.target.classList.contains('admin-content')) {\n        ev = event.target.closest('.admin-content');\n      }\n\n      this[ev.attributes['data-url'].value] = true;\n      this.adminWrapper = false;\n    },\n    showForm: function showForm(data) {\n      this.formShowed[data] = true;\n    },\n    hideForm: function hideForm(data) {\n      this.formShowed[data] = false;\n    }\n  }\n};",{"version":3,"sources":["AdminPanel.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"pug\">\n    div.admin-container\n        nav.nav-bar\n            <router-link to='/'>Strona Główna</router-link>\n            button.logout(@click='logout')\n                | Wyloguj\n        div.grid-wrapper(v-if='adminWrapper')\n            div.admin-content(@click='checkClicked()' data-url='coaches')\n                i(class='fas fa-users')\n                p.content\n                    | Trenerzy\n            div.admin-content(@click='checkClicked(), getOffer()' data-url='offers')\n                i(class='far fa-newspaper')\n                p.content\n                    | Karnety\n            div.admin-content(@click='checkClicked()' data-url='gallery')\n                i(class='fas fa-camera')\n                p.content\n                    | Zdjęcia\n        div.content-container(v-if='coaches')\n            | TRENERZY\n        div.content-container(v-if='offers')\n            div.method-get(ref='offerElement')\n                h3\n                    | Karnety\n                div.get-wrapper\n                    div.anim(v-if='!offerCreated')\n                        div.circle\n                        div.circle\n                        div.circle\n            div.method-post\n                button.button-small(@click='showForm(\"offer\")')\n                    | Dodaj karnet\n            div.method-update\n                button.button-small\n                    | Modyfikuj\n        div.content-container(v-if='gallery')\n            | Galeria\n        div.form(v-if='formShowed.offer')\n            div.form-wrapper\n                | Drupal\n                i(class='fas fa-times exit-button' @click='hideForm(\"offer\")')\n</template>\n<script>\nimport Buttons from '../../pieces/Buttons.vue';\nimport Offers from '../../../mixins/offers';\n\nexport default {\n    name: 'AdminPanel',\n    components: {\n        Buttons,\n    },\n    data() {\n        return {\n            adminWrapper: true,\n            coaches: false,\n            offers: false,\n            gallery: false,\n            Offers,\n            offerCreated: false,\n            formShowed: {\n                offer: false,\n                coaches: false,\n                gallery: false,\n            },\n        };\n    },\n    methods: {\n        logout() {\n            // eslint-disable-next-line\n            console.log('Wylogowano!');\n        },\n        checkIsLogged() {\n            // checking if admin is logged in\n        },\n        createContent(data, parent) {\n            const table = document.createElement('table');\n            const trth = document.createElement('tr');\n            // eslint-disable-next-line\n            for (const key in data[0]) {\n                // eslint-disable-next-line\n                if (key !== '_id') {\n                    const th = document.createElement('th');\n                    th.innerHTML = key;\n                    trth.appendChild(th);\n                }\n            }\n            table.appendChild(trth);\n            // eslint-disable-next-line\n            for (const key in data) {\n                const tr = document.createElement('tr');\n                // eslint-disable-next-line\n                for (const i in data[key]) {\n                    // eslint-disable-next-line\n                    if (data[key][i] !== data[key]._id) {\n                        const td = document.createElement('td');\n                        td.innerHTML = data[key][i];\n                        tr.appendChild(td);\n                    }\n                }\n                const td = document.createElement('td');\n                const button = document.createElement('button');\n                // eslint-disable-next-line\n                button.setAttribute('data-id', data[key]._id);\n                button.classList.add('button-small');\n                button.innerHTML = 'Usuń';\n                td.appendChild(button);\n                tr.appendChild(td);\n                table.appendChild(tr);\n            }\n            parent.appendChild(table);\n        },\n        async getOffer() {\n            if (this.offerCreated) return;\n            const data = await this.Offers.Offer.getOffer();\n            this.createContent(data, this.$refs.offerElement);\n            this.offerCreated = true;\n        },\n        checkClicked() {\n            let ev = event.target;\n            if (!event.target.classList.contains('admin-content')) {\n                ev = event.target.closest('.admin-content');\n            }\n            this[ev.attributes['data-url'].value] = true;\n            this.adminWrapper = false;\n        },\n        showForm(data) {\n            this.formShowed[data] = true;\n        },\n        hideForm(data) {\n            this.formShowed[data] = false;\n        },\n    },\n};\n</script>\n<style lang=\"scss\">\n\n$default_site_color: #9E0012;\n\n@keyframes circle-anim{\n    0%{\n        transform: scale(0);\n        opacity: 0;\n    }\n    50%{\n        transform: scale(1);\n        opacity: 1;\n    }\n    100%{\n        transform: scale(0);\n        opacity: 0;\n    }\n}\n\n.anim{\n    display: flex;\n    flex-flow: row;\n    margin: 20px 0;\n\n    .circle{\n        width: 15px;\n        height: 15px;\n        border-radius: 50%;\n        background-color: $default_site_color;\n        margin: 0 5px;\n        animation: circle-anim 1s both infinite ease-in-out;\n    }\n\n    @for $i from 1 to 4{\n        .circle:nth-child(#{$i}){\n            animation-delay: (10s*$i)/100;\n        }\n    }\n}\n\ntable{\n    padding: 5px;\n    font-size: 18px;\n    width: 100%;\n    height: auto;\n    border-collapse: collapse;\n\n    th{\n        font-size: .8em;\n        padding: 5px;\n    }\n\n    td{\n        padding: 5px;\n        font-size: .6em;\n\n        button{\n            font-size: 1em;\n        }\n    }\n}\n\n.form{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    width: 100vw;\n    height: 100vh;\n\n    color: #fff;\n    position: fixed;\n    top: 0;\n    left: 0;\n\n    background-color: rgba(0,0,0,.5);\n\n    .form-wrapper{\n        display: flex;\n        width: 60%;\n        height: 300px;\n        background-color: rgba(0,0,0,.5);\n        position: relative;\n        padding: 10px;\n\n        .exit-button{\n            position: absolute;\n            top: 15px;\n            right: 15px;\n\n            transition: all .3s ease-in-out;\n\n            &:hover{\n                cursor: pointer;\n                color: $default_site_color;\n            }\n        }\n    }\n}\n\n    .admin-container{\n        display: flex;\n        flex-flow: column;\n        justify-content: center;\n        align-items: center;\n        width: 100vw;\n        min-height: 100vh;\n\n        background-image: url('../../../assets/banner_bg.jpg');\n        background-repeat: no-repeat;\n        background-size: 400%;\n        background-position: 50% 50%;\n        background-attachment: fixed;\n\n        .nav-bar{\n            position: fixed;\n            top: 0;\n            left: 0;\n\n            display: flex;\n            align-items: center;\n            justify-content: flex-end;\n\n            height: 50px;\n            width: 100%;\n            background-color: rgba(0,0,0,.5);\n\n            a, .logout{\n                text-decoration: none;\n                background: none;\n                border: none;\n                padding: 10px;\n                height: 40px;\n                min-width: 120px;\n                color: #fff;\n                font-size: 16px;\n                text-shadow: 1px 1px 5px #000;\n\n                transition: all .3s ease-in-out;\n\n                &:hover{\n                    cursor: pointer;\n                    color: $default_site_color;\n                }\n            }\n        }\n        .grid-wrapper{\n            display: grid;\n            align-items: center;\n            justify-items: center;\n            justify-content: center;\n\n            width: 80%;\n            height: 80%;\n            background-attachment: fixed;\n            grid-template-columns: 1fr;\n            .admin-content{\n                display: flex;\n                flex-flow: column;\n                align-items: center;\n                justify-content: center;\n\n                box-shadow: 2px 2px 10px 3px #000;\n                background-color: rgba(158,0,18,.9);\n                height: 30vw;\n                width: 80%;\n                margin: 20px 0;\n\n                align-self: end;\n\n                transition: all .3s ease-in-out;\n\n                &:hover{\n                    cursor: pointer;\n                    color: darken(#fff, 20%);\n                }\n\n                i{\n                    font-size: 2em;\n                }\n                .content{\n                    font-size: 1.5em;\n                    margin: 10px 0;\n                }\n            }\n        }\n\n        .content-container{\n            display: flex;\n            flex-flow: column;\n\n            color: #fff;\n            background-color: rgba(0,0,0,.8);\n            width: 100vw;\n            min-height: 300px;\n            padding: 15px 10px;\n\n            h3{\n                margin: 0;\n            }\n\n            .get-wrapper{\n                display: flex;\n                flex-flow: column;\n            }\n\n            .method-post{\n                margin: 20px 0;\n            }\n        }\n    }\n\n@media (min-width: 480px){\n    .admin-container{\n        .grid-wrapper{\n            .admin-content{\n                width: 60%;\n            }\n        }\n    }\n}\n\n@media (min-width: 768px){\n    table{\n        font-size: 24px;\n    }\n    .admin-container{\n        background-size: 200%;\n        .grid-wrapper{\n            grid-template-columns: 1fr 1fr;\n            .admin-content{\n                width: 80%;\n                height: 20vw;\n            }\n        }\n    }\n}\n\n@media (min-width: 1024px){\n    .admin-container{\n        background-size: cover;\n        .grid-wrapper{\n            width: 100%;\n            grid-template-columns: repeat(3, 1fr);\n            .admin-content{\n                font-size: 30px;\n                width: 90%;\n            }\n        }\n    }\n}\n\n</style>\n"],"sourceRoot":"src/components/sites/admin"}]}