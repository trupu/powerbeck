{"remainingRequest":"/home/trupu/Pulpit/projekt/client/node_modules/babel-loader/lib/index.js!/home/trupu/Pulpit/projekt/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/trupu/Pulpit/projekt/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/trupu/Pulpit/projekt/client/src/components/pieces/LoginForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/trupu/Pulpit/projekt/client/src/components/pieces/LoginForm.vue","mtime":1563806878057},{"path":"/home/trupu/Pulpit/projekt/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/trupu/Pulpit/projekt/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/trupu/Pulpit/projekt/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/trupu/Pulpit/projekt/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport loginMethods from \"../methods/loginMethod\";\nexport default {\n  name: 'LoginForm',\n  data: function data() {\n    return {\n      lm: loginMethods,\n      isLoginForm: false,\n      isContactForm: false,\n      contactFormName: '',\n      contactFormEmail: '',\n      contactFormMessage: '',\n      loginFormLogin: '',\n      loginFormPassword: '',\n      loginStatus: '',\n      loginLoading: false\n    };\n  },\n  methods: {\n    showLoginForm: function showLoginForm() {\n      this.isLoginForm = true;\n    },\n    showContactForm: function showContactForm() {\n      this.isContactForm = true;\n    },\n    hideLoginForm: function hideLoginForm() {\n      this.isLoginForm = false;\n    },\n    hideContactForm: function hideContactForm() {\n      this.isContactForm = false;\n    },\n    // basic validation\n    validateForm: function validateForm() {\n      if (this.loginFormLogin === '' || this.loginFormPassword === '') {\n        return false;\n      }\n\n      return true;\n    },\n    // checking login data\n    checkLoginData: function checkLoginData() {\n      var _this = this;\n\n      if (!this.validateForm()) {\n        this.loginStatus = 'Wypełnij wszystkie pola!';\n        return;\n      }\n\n      this.loginStatus = '';\n      this.loginLoading = true;\n      var data = this.lm.LoginService.getData();\n\n      if (data) {\n        data.then(function (val) {\n          /* eslint-disable-next-line */\n          var login = val.find(function (el) {\n            return el.login === _this.loginFormLogin;\n          });\n\n          if (login && login.password === _this.loginFormPassword) {\n            // Succesful login\n            _this.isLogged = true;\n\n            _this.$router.push('/adminpanel');\n          } else {\n            _this.loginStatus = 'Niepoprawne dane logowania!';\n          }\n\n          _this.loginLoading = false;\n        });\n      } else {\n        this.loginLoading = false;\n        this.loginStatus = 'Błąd połączenia z serwerem!';\n      }\n    }\n  }\n};",{"version":3,"sources":["LoginForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,OAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,YADA;AAEA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,aAAA,EAAA,KAHA;AAIA,MAAA,eAAA,EAAA,EAJA;AAKA,MAAA,gBAAA,EAAA,EALA;AAMA,MAAA,kBAAA,EAAA,EANA;AAOA,MAAA,cAAA,EAAA,EAPA;AAQA,MAAA,iBAAA,EAAA,EARA;AASA,MAAA,WAAA,EAAA,EATA;AAUA,MAAA,YAAA,EAAA;AAVA,KAAA;AAYA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,eAJA,6BAIA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KANA;AAOA,IAAA,aAPA,2BAOA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,KATA;AAUA,IAAA,eAVA,6BAUA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,KAZA;AAaA;AACA,IAAA,YAdA,0BAcA;AACA,UAAA,KAAA,cAAA,KAAA,EAAA,IAAA,KAAA,iBAAA,KAAA,EAAA,EAAA;AACA,eAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA,KAnBA;AAoBA;AACA,IAAA,cArBA,4BAqBA;AAAA;;AACA,UAAA,CAAA,KAAA,YAAA,EAAA,EAAA;AACA,aAAA,WAAA,GAAA,0BAAA;AACA;AACA;;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,UAAA,IAAA,GAAA,KAAA,EAAA,CAAA,YAAA,CAAA,OAAA,EAAA;;AACA,UAAA,IAAA,EAAA;AACA,QAAA,IAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA,cAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,UAAA,EAAA;AAAA,mBAAA,EAAA,CAAA,KAAA,KAAA,KAAA,CAAA,cAAA;AAAA,WAAA,CAAA;;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,QAAA,KAAA,KAAA,CAAA,iBAAA,EAAA;AAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,IAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,aAAA;AACA,WAHA,MAGA;AACA,YAAA,KAAA,CAAA,WAAA,GAAA,6BAAA;AACA;;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,SAVA;AAWA,OAZA,MAYA;AACA,aAAA,YAAA,GAAA,KAAA;AACA,aAAA,WAAA,GAAA,6BAAA;AACA;AACA;AA7CA;AAhBA,CAAA","sourcesContent":["<template lang=\"pug\">\ndiv\n    div.login-form-container(v-if='this.isLoginForm')\n        div.login-form-wrapper\n            div.form-title\n                | Panel Administracyjny\n            div.form\n                label\n                    i(class='fas fa-user')\n                    input(type='text' name='login' placeholder='Login' v-model='loginFormLogin' autocomplete='off' required)\n                    <br />\n                label\n                    i(class='fas fa-lock')\n                    input(type='password' name='password' placeholder='Hasło' v-model='loginFormPassword' autocomplete='off' required)\n                    <br />\n                button(@click='checkLoginData()' :disabled='loginLoading')\n                    | Zaloguj\n                div.loading-anim(v-if='loginLoading')\n                    div.circle\n                    div.circle\n                    div.circle\n                p.login-error(v-if='loginStatus')\n                    | {{ loginStatus }}\n                i(class='fas fa-times exit-button' @click='hideLoginForm()')\n    div.login-form-container(v-if='this.isContactForm')\n        div.contact-form-wrapper\n            div.form-title\n                | Kontakt\n            form(action='/contact' method='POST' autocomplete='off')\n                label\n                    i(class='fas fa-user')\n                    input(type='text' name='login' placeholder='imię' v-model='contactFormName' required)\n                    <br />\n                label\n                    i(class='fas fa-at')\n                    input(type='email' name='email' placeholder='e-mail' v-model='contactFormEmail' required)\n                    <br />\n                label.text-area-label\n                    i(class='fas fa-envelope')\n                    textarea(name='message' rows='8' cols='50' v-model='contactFormMessage' required)\n                    <br />\n                button.contact-form-button\n                    | Wyślij\n                i(class='fas fa-times exit-button' @click='hideContactForm()')\n</template>\n<script>\nimport loginMethods from '../methods/loginMethod';\n\nexport default {\n    name: 'LoginForm',\n    data() {\n        return {\n            lm: loginMethods,\n            isLoginForm: false,\n            isContactForm: false,\n            contactFormName: '',\n            contactFormEmail: '',\n            contactFormMessage: '',\n            loginFormLogin: '',\n            loginFormPassword: '',\n            loginStatus: '',\n            loginLoading: false,\n        };\n    },\n    methods: {\n        showLoginForm() {\n            this.isLoginForm = true;\n        },\n        showContactForm() {\n            this.isContactForm = true;\n        },\n        hideLoginForm() {\n            this.isLoginForm = false;\n        },\n        hideContactForm() {\n            this.isContactForm = false;\n        },\n        // basic validation\n        validateForm() {\n            if (this.loginFormLogin === '' || this.loginFormPassword === '') {\n                return false;\n            }\n            return true;\n        },\n        // checking login data\n        checkLoginData() {\n            if (!this.validateForm()) {\n                this.loginStatus = 'Wypełnij wszystkie pola!';\n                return;\n            }\n            this.loginStatus = '';\n            this.loginLoading = true;\n            const data = this.lm.LoginService.getData();\n            if (data) {\n                data.then((val) => {\n                    /* eslint-disable-next-line */\n                    const login = val.find((el) => el.login === this.loginFormLogin );\n                    if (login && login.password === this.loginFormPassword) { // Succesful login\n                        this.isLogged = true;\n                        this.$router.push('/adminpanel');\n                    } else {\n                        this.loginStatus = 'Niepoprawne dane logowania!';\n                    }\n                    this.loginLoading = false;\n                });\n            } else {\n                this.loginLoading = false;\n                this.loginStatus = 'Błąd połączenia z serwerem!';\n            }\n        },\n    },\n};\n</script>\n<style lang=\"scss\">\n\n$default_site_color: #9e0012;\n\n@keyframes loading-button{\n    0%{\n        transform: translateY(0);\n    }\n    50%{\n        transform: translateY(-10px);\n    }\n    80%{\n        transform: translateY(0);\n    }\n    100%{\n\n    }\n}\n\n.login-form-container{\n    display: flex;\n\n    z-index: 300;\n\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0,0,0,.7);\n\n    position: fixed;\n    top: 0;\n    left: 0;\n\n    align-items: center;\n    justify-content: center;\n\n    .login-form-wrapper{\n        height: 60%;\n    }\n\n    .contact-form-wrapper{\n        height: 80%;\n    }\n\n    .login-form-wrapper, .contact-form-wrapper{\n        display: flex;\n        flex-flow: column;\n        align-items: center;\n        justify-content: center;\n\n        position: relative;\n\n        background-color: rgba(0,0,0,.7);\n        color: #fff;\n\n        width: 40%;\n\n        padding: 50px 20px;\n\n        box-shadow: 0 0 10px 2px #000;\n\n        .form-title{\n            text-align: center;\n            font-size: 1.5em;\n            text-transform: uppercase;\n            font-weight: 400;\n            color: #fff;\n            margin-bottom: 20px;\n        }\n\n        .form, form{\n            label{\n                position: relative;\n\n                display: grid;\n                grid-template-columns: 1fr 9fr;\n                align-items: center;\n                justify-content: center;\n\n                width: 200px;\n                height: 40px;\n                margin: 10px 0;\n\n                border-bottom: 1px solid $default_site_color;\n\n                &:focus, &:hover{\n                    input{\n                        border: none;\n                    }\n                }\n\n                input{\n                    width: 100%;\n                    height: 40px;\n                    background: none;\n                    border: none;\n                    padding-left: 5px;\n\n                    font-size: 1.2em;\n                    color: #fff;\n\n                    &:focus, &:active{\n                        border: none;\n                    }\n                }\n            }\n\n            .text-area-label{\n                width: 100%;\n                height: auto;\n                align-items: flex-start;\n                border-bottom: 1px solid $default_site_color;\n                textarea{\n                    border: none;\n                    background: none;\n                    color: #fff;\n                    overflow-y: hidden;\n                }\n            }\n\n            button{\n                width: 200px;\n                height: 40px;\n\n                display: flex;\n                flex-flow: row;\n                align-items: center;\n                justify-content: center;\n\n                background: none;\n                border: 1px solid $default_site_color;\n                color: #fff;\n                font-size: 1.2em;\n                font-weight: 700;\n\n                transition: all .3s ease-in-out;\n\n                &:hover{\n                    cursor: pointer;\n                    background-color: $default_site_color;\n                }\n\n                .loading-main{\n                    width: 20px;\n                    height: 20px;\n                    border-radius: 50%;\n                    border: 2px solid $default_site_color;\n\n                    margin: 0 10px;\n                }\n            }\n            .contact-form-button{\n                float: right;\n            }\n\n            .loading-anim{\n                display: flex;\n                align-items: center;\n                justify-content: center;\n\n                width: 100%;\n\n                position: absolute;\n                left: 0;\n                bottom: 10%;\n\n                .circle{\n                    height: 10px;\n                    width: 10px;\n                    border-radius: 50%;\n                    background-color: $default_site_color;\n                    margin: 40px 5px 0 5px;\n\n                    animation: loading-button 1s infinite both ease-in-out;\n                }\n                @for $i from 1 to 4{\n                    .circle:nth-child(#{$i}){\n                        animation-delay: 0s + ($i*5/100);\n                    }\n                }\n            }\n\n            .login-error{\n                color: $default_site_color;\n                font-size: .8em;\n                text-align: center;\n            }\n        }\n\n        .exit-button{\n            position: absolute;\n            right: 15px;\n            top: 15px;\n\n            font-size: 1.5em;\n\n            transition: all .3s ease-in-out;\n\n            &:hover{\n                cursor: pointer;\n                color: $default_site_color;\n            }\n        }\n    }\n}\n\n@media (max-width: 768px){\n    .login-form-container{\n        .login-form-wrapper, .contact-form-wrapper{\n            width: 60%;\n        }\n    }\n}\n\n@media (max-width: 480px){\n    .login-form-container{\n        .login-form-wrapper, .contact-form-wrapper{\n            width: 100%;\n\n            .exit-button{\n                right: 40px;\n            }\n        }\n    }\n}\n\n</style>\n"],"sourceRoot":"src/components/pieces"}]}